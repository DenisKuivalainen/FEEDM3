(this.webpackJsonpsoftdevproj=this.webpackJsonpsoftdevproj||[]).push([[0],[,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(0),a=i.n(r).a.createContext({content:void 0})},,,function(e,t,i){e.exports=i.p+"static/media/logo.aff12731.jpg"},,,,function(module,__webpack_exports__,__webpack_require__){"use strict";var C_Users_gefre_Documents_GitHub_softdevproj_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11),C_Users_gefre_Documents_GitHub_softdevproj_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),C_Users_gefre_Documents_GitHub_softdevproj_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),C_Users_gefre_Documents_GitHub_softdevproj_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5),C_Users_gefre_Documents_GitHub_softdevproj_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_logo_jpg__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6),_logo_jpg__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_logo_jpg__WEBPACK_IMPORTED_MODULE_6__),_Utility_StylesProvider__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3),Search=function(_React$Component){Object(C_Users_gefre_Documents_GitHub_softdevproj_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__.a)(Search,_React$Component);var _super=Object(C_Users_gefre_Documents_GitHub_softdevproj_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__.a)(Search);function Search(e){var t;return Object(C_Users_gefre_Documents_GitHub_softdevproj_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__.a)(this,Search),(t=_super.call(this,e)).clicked=function(){if(t.context.unlockSearchButton){var e="ing1="+t.state.input1+"&ing2="+t.state.input2+"&ing3="+t.state.input3;t.setState({input1:"",input2:"",input3:""}),t.props.setIngredients(e)}},t.handleUserInput=function(e){var i=e.target.name,r=e.target.value;r.length>15&&(r=r.substr(0,15)),t.setState(Object(C_Users_gefre_Documents_GitHub_softdevproj_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},i,r))},t.state={input1:"",input2:"",input3:""},t}return Object(C_Users_gefre_Documents_GitHub_softdevproj_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__.a)(Search,[{key:"render",value:function render(){var _this2=this,styles=this.context,input1=this.state.input1,input2=this.state.input2,input3=this.state.input3,inputFields=["input1","input2","input3"];return""!==input1||""===input2&&""===input3||(this.setState({input1:input2,input2:input3,input3:""}),document.getElementsByName("input1")[0].blur()),""===input2&&""!==input3&&(this.setState({input2:input3,input3:""}),document.getElementsByName("input2")[0].blur()),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"left-grid",style:styles.leftGrid},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"left-item-grid",style:styles.leftItemGrid},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("img",{src:_logo_jpg__WEBPACK_IMPORTED_MODULE_6___default.a,alt:"Logo",style:styles.logo})),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"left-item-grid",style:styles.leftItemGrid},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{class:"search-btn",onClick:this.clicked},"Search recipe")),inputFields.map((function(val,k){var activeCheck=""!==eval("input"+(k>0?k:1))||"input1"===val;return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"left-item-grid",key:k,style:styles.leftItemGrid},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("input",{class:"ing-input",placeholder:"Add ingredient",name:val,value:eval(val),onChange:_this2.handleUserInput,style:{opacity:activeCheck?1:0},disabled:activeCheck?"":"disabled"}))})))}}]),Search}(react__WEBPACK_IMPORTED_MODULE_5___default.a.Component);Search.contextType=_Utility_StylesProvider__WEBPACK_IMPORTED_MODULE_7__.a,__webpack_exports__.a=Search},,function(e,t,i){e.exports=i(19)},,,,,function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";i.r(t);var r=i(0),a=i.n(r),n=i(9),s=i.n(n),c=(i(17),i(1)),o=i(2),_=i(7),l=i(5),d=i(4),u=i(10);function p(e){return a.a.createElement("div",{class:"recipe-box",style:e.styles.recipeBox,onClick:function(){return t=e.searchNumber,void e.setSelectedRecipe(e.styles.jsonData[t]);var t}},a.a.createElement("div",{class:"recipe-image",style:Object.assign(e.styles.recipeImage,{background:"url("+e.recipe.pic+") 50% 50% / cover padding-box border-box"})}),e.recipe.top)}var h=i(3),m=function(e){Object(l.a)(i,e);var t=Object(d.a)(i);function i(e){var r;return Object(c.a)(this,i),(r=t.call(this,e)).setSelectedRecipe=function(e){r.props.setSelectedRecipe(r.context.jsonData[e])},r.state={},r}return Object(o.a)(i,[{key:"render",value:function(){var e=this,t=this.context;return a.a.createElement("div",{className:"right-grid",style:t.rightGrid},t.jsonData.map((function(i,r){return a.a.createElement("div",{className:"right-item-grid",key:r,style:t.rightItemGrid},a.a.createElement(p,{styles:t,recipe:i,searchNumber:r,setSelectedRecipe:e.setSelectedRecipe}))})))}}]),i}(a.a.Component);m.contextType=h.a;var f=m,g=i(6),b=i.n(g),v=function(e){Object(l.a)(i,e);var t=Object(d.a)(i);function i(e){var r;return Object(c.a)(this,i),(r=t.call(this,e)).state={},r}return Object(o.a)(i,[{key:"renderButton",value:function(){if(!this.context.widthGreater)return a.a.createElement("div",{className:"search-btn",onClick:function(){return window.open("/download")}},"Download mobile APP")}},{key:"getText",value:function(){return this.context.widthGreater?"Sorry, the browser window is too wide. Try to change the screen resolution.":"Sorry, the browser window is too tall. Try to change the screen resolution,  or download Android Mobile APP."}},{key:"render",value:function(){var e=this.context;return a.a.createElement("div",{className:"bad-batch-main",style:e.badBatchMain},a.a.createElement("img",{src:b.a,alt:"Logo",style:e.badBatchLogo}),a.a.createElement("div",{className:"bad-batch-text",style:e.badBatchText},this.getText()),this.renderButton())}}]),i}(a.a.Component);v.contextType=h.a;var E=v,w=function(e){Object(l.a)(i,e);var t=Object(d.a)(i);function i(e){var r;return Object(c.a)(this,i),(r=t.call(this,e)).state={},r}return Object(o.a)(i,[{key:"render",value:function(){var e=this.context;return a.a.createElement("div",{style:e.recipeMain},a.a.createElement("div",{class:"recipe-border",style:e.recipeBorder},a.a.createElement("div",{class:"recipe-image",style:Object.assign(e.recipePic,{background:"url("+e.selectedRecipe.pic+") 50% 50% / cover padding-box border-box"})}),a.a.createElement("div",{class:"recipe-name",style:e.recipeName},e.selectedRecipe.top),a.a.createElement("div",{class:"recipe-name",style:e.recipeDesc},e.selectedRecipe.dis)))}}]),i}(a.a.Component);w.contextType=h.a;var x=w,O=function(e){Object(l.a)(i,e);var t=Object(d.a)(i);function i(e){var r;return Object(c.a)(this,i),(r=t.call(this,e)).setSelectedRecipe=function(e){r.props.setSelectedRecipe(e)},r.setIngredients=function(e){r.props.setIngredients(e)},r.setFirst=function(e){r.props.setFirst(e)},r.switchPageBack=function(){var e=3*(0!==r.context.rows?r.context.rows:1);r.context.firstRecipe/e-1>=0&&r.context.unlockSearchButton&&r.setFirst(r.context.firstRecipe-e)},r.switchPageForward=function(){var e=3*(0!==r.context.rows?r.context.rows:1);r.context.firstRecipe/e+1<r.context.ammountOfPages&r.context.unlockSearchButton&&r.setFirst(r.context.firstRecipe+e)},r.state={},r}return Object(o.a)(i,[{key:"defineWhatToRender",value:function(){var e=this.context;return 0===e.rows?a.a.createElement(E,null):""!==e.selectedRecipe.top?a.a.createElement(x,{setFirst:this.setFirst}):a.a.createElement("div",{className:"main-grid",style:e.mainGrid},a.a.createElement("div",{className:"main-grid-left",style:e.mainGridLeft},a.a.createElement(u.a,{setIngredients:this.setIngredients})),a.a.createElement("div",{className:"main-grid-right",style:e.mainGridRight},a.a.createElement(f,{setSelectedRecipe:this.setSelectedRecipe})))}},{key:"renderPageSwitchButtons",value:function(){var e=this;if(this.context.ammountOfPages>1&&this.context.selectedRecipe!=={}){var t=this.context.firstRecipe/(3*(0!==this.context.rows?this.context.rows:1))-1>=0?1:0,i=this.context.firstRecipe/(3*(0!==this.context.rows?this.context.rows:1))+1<this.context.ammountOfPages?1:0;return a.a.createElement("div",{class:"bottom-credentials",style:this.context.pageSwitchButtons},a.a.createElement("div",{class:"page-switch-button",style:Object.assign({opacity:t},this.context.pageSwitchButton),onClick:function(){return e.switchPageBack()}},"<"),a.a.createElement("div",{class:"page-switch-button",style:Object.assign(this.context.pageSwitchButton,{opacity:i}),onClick:function(){return e.switchPageForward()}},">"))}}},{key:"render",value:function(){var e=this.context;return a.a.createElement("div",{className:"app",style:e.app},a.a.createElement("div",null,this.defineWhatToRender(),this.renderPageSwitchButtons(),a.a.createElement("div",{className:"bottom-credentials",style:e.fullWidth},a.a.createElement("a",{href:"https://github.com/DenisKuivalainen/softdevproj",class:"bottom-text"},"2020   \xa9   Godlike"))))}}]),i}(a.a.Component);O.contextType=h.a;var y=O;i(18);function P(e){return Math.floor(1e4*e)/1e4}var R=function(e){Object(l.a)(i,e);var t=Object(d.a)(i);function i(e){var r;return Object(c.a)(this,i),(r=t.call(this,e)).setFirst=function(e){e!==r.state.firstRecipe&&r.setState({firstRecipe:e})},r.setSelectedRecipe=function(e){r.setState({selectedRecipeTop:e.top,selectedRecipeDis:e.dis,selectedRecipePic:e.pic})},r.setIngredients=function(e){r.setState({ingredients:e,firstRecipe:0,alreadyClicked:!0})},r.state={vw:0,vh:0,rows:0,rightK:0,firstRecipe:0,ammountOfPages:0,widthGreater:!1,unlockSearchButton:!0,alreadyClicked:!1,ingredients:"",selectedRecipeTop:"",selectedRecipeDis:"",selectedRecipePic:"",jsonData:[]},r.getScreenParametors=r.getScreenParametors.bind(Object(_.a)(r)),r}return Object(o.a)(i,[{key:"getScreenParametors",value:function(){var e=document.documentElement.clientWidth,t=document.documentElement.clientHeight,i=this.getNumberOfRows(e/t),r=this.calculateRightCoefficient(i,e,t),a=this.checkWidthAndHeight(e,t),n=3*(0!==i?i:1),s=Math.floor(this.state.firstRecipe/n)*n;this.setState({vw:e,vh:t,rightK:r,widthGreater:a}),i===this.state.rows&&s===this.state.firstRecipe||this.setState({rows:i,firstRecipe:s})}},{key:"checkWidthAndHeight",value:function(e,t){return e>t}},{key:"calculateRightCoefficient",value:function(e,t,i){switch(e){case 1:return.5;case 2:return.6;case 3:return 2/3;default:return 0}}},{key:"getNumberOfRows",value:function(e){return e>=.65&&e<1.15?1:e>=1.15&&e<1.5?2:e>=1.5&&e<20/9?3:0}},{key:"calculateStyles",value:function(){var e=this.state.vw,t=this.state.vh,i=this.state.rows,r=this.state.rightK,a=1-r,n=""!==this.state.ingredients,s=(t-P(t-P(.15*t))-P(.05*t))/2;return{rows:i,widthGreater:this.state.widthGreater,jsonData:this.state.jsonData,selectedRecipe:{top:this.state.selectedRecipeTop,dis:this.state.selectedRecipeDis,pic:this.state.selectedRecipePic},ingredients:this.state.ingredients,firstRecipe:this.state.firstRecipe,unlockSearchButton:this.state.unlockSearchButton,ammountOfPages:this.state.ammountOfPages,app:{visibility:e>0?"visible":"hidden",overflow:"hidden",width:e,maxWidth:e,height:t,maxHeight:t},mainGrid:{width:e,display:"flex",flexWrap:"wrap",boxSizing:"border-box"},mainGridLeft:{flexGrow:0,maxWidth:n?P(e*a):e,flexBasis:n?P(e*a):e,boxSizing:"border-box"},mainGridRight:{flexGrow:0,maxWidth:P(e*r),flexBasis:P(e*r),boxSizing:"border-box"},leftGrid:{width:P(e*a)-P(.1*e),display:"flex",flexWrap:"wrap",boxSizing:"border-box",marginTop:P(.065*t),marginLeft:n?P(.05*t):P(e*r/2)+P(.05*t),marginRight:n?P(.05*t):P(e*r/2)+P(.05*t)},rightGrid:{visibility:n?"visible":"hidden",width:P(e*r)-P(.05*t),display:"flex",flexWrap:"wrap",boxSizing:"border-box",marginTop:P(.05*t),marginRight:P(.05*t)},leftItemGrid:{flexGrow:0,maxWidth:P(e*a)-P(.1*e),flexBasis:P(e*a)-P(.1*e),boxSizing:"border-box",marginBottom:P(.025*t)},rightItemGrid:{flexGrow:0,maxWidth:P((P(e*r)-P(.05*t))/i),flexBasis:P((P(e*r)-P(.05*t))/i),boxSizing:"border-box",padding:P(.015*t)},fullWidth:{flexGrow:0,maxWidth:e,width:e,height:s,boxSizing:"border-box",bottom:0,paddingTop:.5*s,fontSize:.4*s},pageSwitchButtons:{height:s,boxSizing:"border-box",bottom:s,padding:5,display:"flex",justifyContent:"flex-end"},pageSwitchButton:{flexGrow:0,width:s-20,height:s-20,fontSize:s-20,marginRight:P(.05*t)},boxGrid:{flexGrow:0,maxWidth:e,flexBasis:e,boxSizing:"border-box"},logo:{width:"100%",marginBottom:P(.075*t)},recipeBox:{width:P((P(e*r)-P(.05*t))/i)-P(.03*t)-20,height:P((t-P(.15*t))/3)-P(.03*t)-20},recipeImage:{width:P((P(e*r)-P(.05*t))/i)-P(.03*t)-20,height:(P((t-P(.15*t))/3)-P(.03*t)-40)/2},badBatchMain:{marginLeft:.2*e,marginRight:.2*e,position:"absolute",top:"50%",transform:"translateY(-50%)",width:.6*e},badBatchText:{marginBottom:.05*e},badBatchLogo:{width:.5*e,marginLeft:.05*e,marginRight:.05*e,marginBottom:.05*e},recipeMain:{marginTop:P(.05*t),marginLeft:P(.05*t),marginRight:P(.05*t),width:P(e-.1*t),height:t-s},recipeBorder:{width:P(e-.1*t),height:P(t-3*s)},recipePic:{marginTop:P(.05*t),marginLeft:P(.05*t),width:P(e-.1*t)-P(.1*t),height:P(.3*(P(t-3*s)-P(.1*t)))},recipeName:{marginTop:P(.05*t),marginLeft:P(.05*t),width:P(e-.1*t)-P(.1*t),fontSize:P(.07*(P(t-3*s)-P(.1*t)))},recipeDesc:{marginTop:P(.03*t),marginLeft:P(.07*t),width:P(e-.1*t)-P(.14*t),fontSize:P((P(t-3*s)-P(.08*t)-(P(.07*(P(t-3*s)-P(.1*t)))+P(.05*t))-P(.3*(P(t-3*s)-P(.1*t))))/17)}}}},{key:"render",value:function(){return a.a.createElement(h.a.Provider,{value:this.calculateStyles()},a.a.createElement(y,{setSelectedRecipe:this.setSelectedRecipe,setIngredients:this.setIngredients,setFirst:this.setFirst}))}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.getScreenParametors),window.addEventListener("load",this.getScreenParametors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.getScreenParametors),window.removeEventListener("load",this.getScreenParametors)}},{key:"componentDidUpdate",value:function(e,t){var i=this,r=this.getUrlLink(this.state.ingredients,3*this.state.rows,this.state.firstRecipe);r!==this.getUrlLink(t.ingredients,3*t.rows,t.firstRecipe)&&this.state.alreadyClicked&&(this.setState({unlockSearchButton:!1}),fetch(r).then((function(e){return e.json()})).then((function(e){i.setState({unlockSearchButton:!0,ammountOfPages:e.count,jsonData:e.recps})})))}},{key:"getUrlLink",value:function(e,t,i){return"/recipe?"+e+"&rows="+t+"&first="+i}}]),i}(a.a.Component);s.a.render(a.a.createElement(R,null),document.getElementById("root"))}],[[12,1,2]]]);
//# sourceMappingURL=main.1c837949.chunk.js.map