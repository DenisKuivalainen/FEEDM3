(this.webpackJsonpsoftdevproj=this.webpackJsonpsoftdevproj||[]).push([[0],[,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return _}));var r=i(0),_=i.n(r).a.createContext({content:void 0})},,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";var C_Users_gefre_Documents_GitHub_softdevproj_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10),C_Users_gefre_Documents_GitHub_softdevproj_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),C_Users_gefre_Documents_GitHub_softdevproj_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),C_Users_gefre_Documents_GitHub_softdevproj_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5),C_Users_gefre_Documents_GitHub_softdevproj_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_logo_jpg__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(11),_logo_jpg__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_logo_jpg__WEBPACK_IMPORTED_MODULE_6__),_Utility_StylesProvider__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3),Search=function(_React$Component){Object(C_Users_gefre_Documents_GitHub_softdevproj_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__.a)(Search,_React$Component);var _super=Object(C_Users_gefre_Documents_GitHub_softdevproj_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__.a)(Search);function Search(e){var t;return Object(C_Users_gefre_Documents_GitHub_softdevproj_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__.a)(this,Search),(t=_super.call(this,e)).clicked=function(){if(t.context.unlockSearchButton){var e="ing1="+t.state.input1+"&ing2="+t.state.input2+"&ing3="+t.state.input3;t.setState({input1:"",input2:"",input3:""}),t.props.setIngredients(e)}},t.handleUserInput=function(e){var i=e.target.name,r=e.target.value;r.length>15&&(r=r.substr(0,15)),t.setState(Object(C_Users_gefre_Documents_GitHub_softdevproj_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},i,r))},t.state={input1:"",input2:"",input3:""},t}return Object(C_Users_gefre_Documents_GitHub_softdevproj_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__.a)(Search,[{key:"render",value:function render(){var _this2=this,styles=this.context,input1=this.state.input1,input2=this.state.input2,input3=this.state.input3,inputFields=["input1","input2","input3"];return""!==input1||""===input2&&""===input3||(this.setState({input1:input2,input2:input3,input3:""}),document.getElementsByName("input1")[0].blur()),""===input2&&""!==input3&&(this.setState({input2:input3,input3:""}),document.getElementsByName("input2")[0].blur()),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"left-grid",style:styles.leftGrid},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"left-item-grid",style:styles.leftItemGrid},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("img",{src:_logo_jpg__WEBPACK_IMPORTED_MODULE_6___default.a,alt:"Logo",style:styles.logo})),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"left-item-grid",style:styles.leftItemGrid},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{class:"search-btn",onClick:this.clicked},"Search recipe")),inputFields.map((function(val,k){var activeCheck=""!==eval("input"+(k>0?k:1))||"input1"===val;return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"left-item-grid",key:k,style:styles.leftItemGrid},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("input",{class:"ing-input",placeholder:"Add ingredient",name:val,value:eval(val),onChange:_this2.handleUserInput,style:{opacity:activeCheck?1:0},disabled:activeCheck?"":"disabled"}))})))}}]),Search}(react__WEBPACK_IMPORTED_MODULE_5___default.a.Component);Search.contextType=_Utility_StylesProvider__WEBPACK_IMPORTED_MODULE_7__.a,__webpack_exports__.a=Search},,function(e,t,i){e.exports=i.p+"static/media/logo.aff12731.jpg"},function(e,t,i){e.exports=i(19)},,,,,function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";i.r(t);var r=i(0),_=i.n(r),a=i(8),n=i.n(a),s=(i(17),i(1)),o=i(2),c=i(6),l=i(5),u=i(4),d=i(9);function p(e){var t=new Image;return t.onload=function(){},t.src=e.recipe.pic,_.a.createElement("div",{class:"recipe-box",style:e.styles.recipeBox,onClick:function(){return alert(e.recipe.dis)}},_.a.createElement("div",{class:"recipe-image",style:Object.assign(e.styles.recipeImage,{background:"url("+e.recipe.pic+")",backgroundPosition:"50% 50%",backgroundOrigin:"padding-box",backgroundClip:"border-box",backgroundSize:"cover"})}),e.recipe.top)}var m=i(3),h=function(e){Object(l.a)(i,e);var t=Object(u.a)(i);function i(e){var r;return Object(s.a)(this,i),(r=t.call(this,e)).state={},r}return Object(o.a)(i,[{key:"render",value:function(){var e=this.context;return _.a.createElement("div",{className:"right-grid",style:e.rightGrid},e.jsonData.map((function(t,i){return _.a.createElement("div",{className:"right-item-grid",key:i,style:e.rightItemGrid},_.a.createElement(p,{styles:e,recipe:t}))})))}}]),i}(_.a.Component);h.contextType=m.a;var f=h,b=function(e){Object(l.a)(i,e);var t=Object(u.a)(i);function i(e){var r;return Object(s.a)(this,i),(r=t.call(this,e)).setSelectedRecipe=function(e){r.props.setSelectedRecipe(e)},r.setIngredients=function(e){r.props.setIngredients(e)},r.setFirst=function(e){r.props.setFirst(e)},r.state={},r}return Object(o.a)(i,[{key:"defineWhatToRender",value:function(){var e=this.context;return _.a.createElement("div",{className:"main-grid",style:e.mainGrid},_.a.createElement("div",{className:"main-grid-left",style:e.mainGridLeft},_.a.createElement(d.a,{setIngredients:this.setIngredients,setFirst:this.setFirst})),_.a.createElement("div",{className:"main-grid-right",style:e.mainGridRight},this.defineWhatToRenderOnRight(!0)))}},{key:"defineWhatToRenderOnRight",value:function(e){return e?_.a.createElement(f,null):void 0}},{key:"render",value:function(){var e=this.context;return _.a.createElement("div",{className:"app",style:e.app},_.a.createElement("div",null,this.defineWhatToRender(),_.a.createElement("div",{style:e.fullWidth},_.a.createElement("div",{class:"bottom-credentials"},_.a.createElement("a",{href:"https://github.com/DenisKuivalainen/softdevproj",class:"bottom-text"},"2020   \xa9   Godlike")))))}}]),i}(_.a.Component);b.contextType=m.a;var g=b;i(18);function E(e){return Math.floor(1e4*e)/1e4}var v=function(e){Object(l.a)(i,e);var t=Object(u.a)(i);function i(e){var r;return Object(s.a)(this,i),(r=t.call(this,e)).setFirst=function(e){e!==r.state.firstRecipe&&r.setState({firstRecipe:e})},r.setSelectedRecipe=function(e){r.setState({selectedRecipe:e})},r.setIngredients=function(e){r.setState({ingredients:e,firstRecipe:0,alreadyClicked:!0})},r.state={vw:0,vh:0,rows:0,rightK:0,widthGreater:!1,jsonData:[],selectedRecipe:{},ingredients:"",firstRecipe:0,ammountOfPages:0,unlockSearchButton:!0,alreadyClicked:!1},r.getScreenParametors=r.getScreenParametors.bind(Object(c.a)(r)),r}return Object(o.a)(i,[{key:"getScreenParametors",value:function(){var e=document.documentElement.clientWidth,t=document.documentElement.clientHeight,i=this.getNumberOfRows(e,t),r=this.calculateRightCoefficient(i,e,t),_=this.checkWidthAndHeight(e,t),a=0!==i?i:1,n=this.state.firstRecipe/(3*a);this.setState({vw:e,vh:t,rightK:r,widthGreater:_}),i===this.state.rows&&n===this.state.firstRecipe||this.setState({rows:i,firstRecipe:n})}},{key:"checkWidthAndHeight",value:function(e,t){return e>t}},{key:"calculateRightCoefficient",value:function(e,t,i){switch(e){case 1:return.5;case 2:return.6;case 3:return 2/3;default:return 0}}},{key:"getNumberOfRows",value:function(e,t){var i=e/t;return i>=.75&&i<1.15?1:i>=1.15&&i<1.5?2:i>=1.5&&i<20/9?3:0}},{key:"calculateStyles",value:function(){var e=this.state.vw,t=this.state.vh,i=this.state.rows,r=this.state.rightK,_=1-r,a=""!==this.state.ingredients;return{rows:i,widthGreater:this.state.widthGreater,jsonData:this.state.jsonData,selectedRecipe:this.state.selectedRecipe,ingredients:this.state.ingredients,firstRecipe:this.state.firstRecipe,unlockSearchButton:this.state.unlockSearchButton,ammountOfPages:this.state.ammountOfPages,app:{visibility:e>0?"visible":"hidden",overflow:"hidden",width:e,maxWidth:e,height:t,maxHeight:t},mainGrid:{width:e,display:"flex",flexWrap:"wrap",boxSizing:"border-box"},mainGridLeft:{flexGrow:0,maxWidth:a?E(e*_):e,flexBasis:a?E(e*_):e,boxSizing:"border-box"},mainGridRight:{flexGrow:0,maxWidth:E(e*r),flexBasis:E(e*r),boxSizing:"border-box"},leftGrid:{width:E(e*_)-E(.1*e),display:"flex",flexWrap:"wrap",boxSizing:"border-box",marginTop:E(.065*t),marginLeft:a?E(.05*t):E(e*r/2)+E(.05*t),marginRight:a?E(.05*t):E(e*r/2)+E(.05*t)},rightGrid:{visibility:a?"visible":"hidden",width:E(e*r)-E(.05*t),display:"flex",flexWrap:"wrap",boxSizing:"border-box",marginTop:E(.05*t),marginRight:E(.05*t)},leftItemGrid:{flexGrow:0,maxWidth:E(e*_)-E(.1*e),flexBasis:E(e*_)-E(.1*e),boxSizing:"border-box",marginBottom:E(.025*t)},rightItemGrid:{flexGrow:0,maxWidth:E((E(e*r)-E(.05*t))/i),flexBasis:E((E(e*r)-E(.05*t))/i),boxSizing:"border-box",padding:E(.015*t)},fullWidth:{flexGrow:0,maxWidth:e,width:e,boxSizing:"border-box"},boxGrid:{flexGrow:0,maxWidth:e,flexBasis:e,boxSizing:"border-box"},logo:{width:"100%",marginBottom:E(.075*t)},recipeBox:{width:E((E(e*r)-E(.05*t))/i)-E(.03*t)-20,height:E((t-E(.15*t))/3)-E(.03*t)-20},recipeImage:{width:E((E(e*r)-E(.05*t))/i)-E(.03*t)-20,height:(E((t-E(.15*t))/3)-E(.03*t)-40)/2}}}},{key:"render",value:function(){return _.a.createElement(m.a.Provider,{value:this.calculateStyles()},_.a.createElement(g,{setSelectedRecipe:this.setSelectedRecipe,setIngredients:this.setIngredients,setFirst:this.setFirst}))}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.getScreenParametors),window.addEventListener("load",this.getScreenParametors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.getScreenParametors),window.removeEventListener("load",this.getScreenParametors)}},{key:"componentDidUpdate",value:function(e,t){var i=this,r=this.getUrlLink(this.state.ingredients,3*this.state.rows,this.state.firstRecipe);r!==this.getUrlLink(t.ingredients,3*t.rows,t.firstRecipe)&&this.state.alreadyClicked&&(this.setState({unlockSearchButton:!1}),fetch(r).then((function(e){return e.json()})).then((function(e){console.log(e),i.setState({unlockSearchButton:!0,ammountOfPages:e.count,jsonData:e.recps})})))}},{key:"getUrlLink",value:function(e,t,i){return"/recipe?"+e+"&rows="+t+"&first="+i}}]),i}(_.a.Component);n.a.render(_.a.createElement(v,null),document.getElementById("root"))}],[[12,1,2]]]);
//# sourceMappingURL=main.ba8e972e.chunk.js.map